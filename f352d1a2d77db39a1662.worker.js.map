{"version":3,"sources":["webpack://lib/webpack/bootstrap","webpack://lib/./src/solvers/cost.js","webpack://lib/./src/solvers/exhaustive/random.worker.js","webpack://lib/./src/solvers/makeSolver.js","webpack://lib/./src/store/actions.js","webpack://lib/./src/store/emitCustomEvent.js"],"names":["distance","pt1","pt2","lng1","lat1","lng2","lat2","radlat1","Math","PI","radlat2","theta","radtheta","dist","sin","cos","acos","pathCost","path","slice","map","point","idx","reduce","a","b","wrapSolver","solver","args","console","log","self","postMessage","actions","terminate","makeSolver","run","solverConfig","detailLevel","delay","setBestPath","setEvaluatingPaths","getPaths","level","paths","cost","setEvaluatingPath","getPath","sleep","duration","Promise","resolve","setTimeout","onmessage","data","action","type","evaluatingDetailLevel","points","Error","SET_VIEWPORT_STATE","RESET_EVALUATING_STATE","RESET_BEST_PATH_STATE","SET_ALGORITHM","SET_DELAY","SET_EVALUATING_DETAIL_LEVEL","SET_SHOW_BEST_PATH","START_SOLVING","STOP_SOLVING","SET_BEST_PATH","SET_EVALUATING_PATHS","START_DEFINING_POINTS","ADD_DEFINED_POINT","STOP_DEFINING_POINTS","SET_POINT_COUNT","SET_POINTS","SET_DEFAULT_MAP","TOGGLE_SITE_INFO_OPEN","TOGGLE_ALG_INFO_OPEN","getRandomPoint","max","min","random","toggleSiteInfoOpen","toggleAlgInfoOpen","setViewportState","viewport","resetEvaluatingStateAction","resetBestPathStateAction","setAlgorithmAction","algorithm","defaults","startSolvingAction","stopSolvingAction","setAlgorithm","dispatch","gtmEmit","detail","setDelay","setEvaluatingDetailLevel","setShowBestPath","show","resetSolverState","startSolving","getState","stopSolving","setDefaultMapAction","setPointsAction","setPointCountAction","count","startDefiningPointsAction","startDefiningPoints","addDefinedPoint","stopDefiningPoints","setPointCount","randomizePoints","bounds","pointCount","top","bottom","left","right","Array","from","length","_","setDefaultMap","ev","window","dataLayer","push"],"mappings":"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","file":"f352d1a2d77db39a1662.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/solvers/exhaustive/random.worker.js\");\n","\n\n// haversine great circle distance\nexport const distance = (pt1, pt2) => {\n  const [lng1, lat1] = pt1;\n  const [lng2, lat2] = pt2;\n  if ((lat1 === lat2) && (lng1 === lng2)) {\n\t\treturn 0;\n  }\n  \n  var radlat1 = Math.PI * lat1/180;\n  var radlat2 = Math.PI * lat2/180;\n\n  var theta = lng1-lng2;\n  var radtheta = Math.PI * theta/180;\n\n  var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n\n  if (dist > 1) {\n    dist = 1;\n  }\n  dist = Math.acos(dist);\n  dist = dist * 180/Math.PI;\n  return dist * 60 * 1.1515 * 1.609344;\n}\n\n\nexport const pathCost = path => {\n  return path.slice(0, -1)\n             .map((point, idx) => distance(point, path[idx+1]))\n             .reduce((a, b) => a+b, 0)\n}\n","/* eslint-disable no-restricted-globals */\nimport makeSolver from '../makeSolver';\nimport { pathCost } from '../cost';\n\n\n\nconst random = async points => {\n  let best = Infinity;\n\n  while (true) {\n    // save off the starting point\n    const start = points.shift();\n\n    // sort the remaining points\n    const path = points.sort(() => Math.random() - 0.5);\n\n    // put the starting point back\n    path.unshift(start);\n\n    // return to the starting point\n    path.push(start);\n\n    // calculate the new cost\n    const cost = pathCost(path);\n\n    if (cost < best) {\n      // we found a better path\n      best = cost;\n      self.setBestPath(path, cost);\n    }\n\n    self.setEvaluatingPaths(() => ({ \n      paths: [{ path }], \n      cost \n    }));\n    \n    // get rid of starting point at the end\n    path.pop();\n    await self.sleep();\n  }\n}\n\nmakeSolver(random);\n","/* eslint-disable no-restricted-globals */\nimport * as actions from '../store/actions';\n\n\nconst wrapSolver = solver => async (...args) => {\n  console.log('calling solver')\n  await solver(...args);\n  console.log('solver finished')\n  self.postMessage(actions.stopSolvingAction());\n  self.terminate();\n}\n\n\nexport const makeSolver = solver => {\n  const run = wrapSolver(solver);\n\n  self.solverConfig = {\n    detailLevel: 0,\n    delay: 10\n  };\n\n\n  self.setBestPath = (...args) => {\n    self.postMessage(actions.setBestPath(...args))\n  }\n\n  self.setEvaluatingPaths = (getPaths, level=0) => {\n    if (self.solverConfig.detailLevel >= level) {\n      const { paths, cost } = getPaths();\n      self.postMessage(actions.setEvaluatingPaths(paths, cost));\n    }\n  }\n\n  self.setEvaluatingPath = (getPath, level=0) => {\n    if (self.solverConfig.detailLevel >= level) {\n      const { path, cost } = getPath();\n      self.postMessage(actions.setEvaluatingPath(path, cost)); \n    }\n  }\n\n  self.sleep = () => {\n    const duration = self.solverConfig.delay || 10;\n    return new Promise(resolve => {\n      setTimeout(resolve, duration)\n    })\n  }\n\n  self.onmessage = async ({ data: action }) => {\n    switch (action.type) {\n      case actions.START_SOLVING:\n\n        self.solverConfig.delay = action.delay;\n        self.solverConfig.detailLevel = action.evaluatingDetailLevel;\n        run(action.points)\n        break;\n      \n      case actions.SET_DELAY:\n        self.solverConfig.delay = action.delay;\n        break;\n  \n      case actions.SET_EVALUATING_DETAIL_LEVEL:\n        self.solverConfig.detailLevel = action.level\n        break;\n  \n      default:\n        throw new Error(`invalid action sent to solver ${action.type}`);\n    }\n  };\n};\n\n\nexport default makeSolver;\n","import gtmEmit from './emitCustomEvent';\nexport const SET_VIEWPORT_STATE = 'SET_VIEWPORT_STATE';\n\nexport const RESET_EVALUATING_STATE = 'RESET_EVALUATING_STATE';\nexport const RESET_BEST_PATH_STATE = 'RESET_BEST_PATH_STATE';\n\nexport const SET_ALGORITHM = 'SET_ALGORITHM';\nexport const SET_DELAY = 'SET_DELAY';\nexport const SET_EVALUATING_DETAIL_LEVEL = 'SET_EVALUATING_DETAIL_LEVEL';\nexport const SET_SHOW_BEST_PATH = 'SET_SHOW_BEST_PATH';\nexport const START_SOLVING = 'START_SOLVING';\nexport const STOP_SOLVING = 'STOP_SOLVING';\n\nexport const SET_BEST_PATH = 'SET_BEST_PATH';\nexport const SET_EVALUATING_PATHS = 'SET_EVALUATING_PATHS';\n\nexport const START_DEFINING_POINTS = 'START_DEFINING_POINTS';\nexport const ADD_DEFINED_POINT = 'ADD_DEFINED_POINT';\nexport const STOP_DEFINING_POINTS = 'STOP_DEFINING_POINTS';\nexport const SET_POINT_COUNT = 'SET_POINT_COUNT';\nexport const SET_POINTS = 'SET_POINTS';\nexport const SET_DEFAULT_MAP = 'SET_DEFAULT_MAP';\n\nexport const TOGGLE_SITE_INFO_OPEN = 'TOGGLE_SITE_INFO_OPEN';\nexport const TOGGLE_ALG_INFO_OPEN = 'TOGGLE_ALG_INFO_OPEN';\n\n\nconst getRandomPoint = (max, min) => (\n  Math.random() * (max - min) + min\n)\n\n\n//\n// BASIC UI\n//\nexport const toggleSiteInfoOpen = () => ({\n  type: TOGGLE_SITE_INFO_OPEN\n})\n\nexport const toggleAlgInfoOpen = () => ({\n  type: TOGGLE_ALG_INFO_OPEN\n})\n\n\n//\n// MAP INTERACTION\n//\nexport const setViewportState = viewport => ({\n  type: SET_VIEWPORT_STATE,\n  viewport\n})\n\n\n//\n// SOLVER CONTROLS\n//\nconst resetEvaluatingStateAction = () => ({\n  type: RESET_EVALUATING_STATE\n})\n\nconst resetBestPathStateAction = () => ({\n  type: RESET_BEST_PATH_STATE\n})\n\nconst setAlgorithmAction = (algorithm, defaults) => ({\n  type: SET_ALGORITHM,\n  algorithm,\n  defaults\n})\n\n\nexport const startSolvingAction = (points, delay, evaluatingDetailLevel) => ({\n  type: START_SOLVING,\n  points,\n  delay,\n  evaluatingDetailLevel\n})\n\nexport const stopSolvingAction = () => ({\n  type: STOP_SOLVING\n})\n\n\nexport const setAlgorithm = (algorithm, defaults={}) => dispatch => {\n  gtmEmit({})\n  gtmEmit('select-algorithm', { detail: { algorithm }})\n  dispatch(resetEvaluatingStateAction())\n  dispatch(setAlgorithmAction(algorithm, defaults))  \n}\n\nexport const setDelay = delay => ({\n  type: SET_DELAY,\n  delay\n})\n\nexport const setEvaluatingDetailLevel = level => ({\n  type: SET_EVALUATING_DETAIL_LEVEL,\n  level\n})\n\nexport const setShowBestPath = show => ({\n  type: SET_SHOW_BEST_PATH,\n  show\n})\n\nexport const resetSolverState = () => dispatch => {\n  gtmEmit('reset-state')\n  dispatch(resetEvaluatingStateAction())\n  dispatch(resetBestPathStateAction())\n}\n\nexport const startSolving = (...args) => (dispatch, getState) => {\n  const { algorithm } = getState();\n  gtmEmit('start-solving', { detail: { algorithm }})\n  dispatch(resetEvaluatingStateAction())\n  dispatch(startSolvingAction(...args))\n}\n\nexport const stopSolving = () => dispatch => {\n  gtmEmit('stop-solving')\n  dispatch(resetEvaluatingStateAction())\n  dispatch(stopSolvingAction())\n}\n\n\n\n//\n// SOLVER ACTIONS\n//\nexport const setEvaluatingPath = (path, cost) => ({\n  type: SET_EVALUATING_PATHS,\n  paths: [\n    path\n  ],\n  cost\n})\n\n\nexport const setEvaluatingPaths = (paths, cost) => ({\n  type: SET_EVALUATING_PATHS,\n  paths,\n  cost\n})\n\nexport const setBestPath = (path, cost) => ({\n  type: SET_BEST_PATH,\n  path,\n  cost\n})\n\n\n//\n// POINT CONTROLS\n//\n\nconst setDefaultMapAction = () => ({\n  type: SET_DEFAULT_MAP\n})\n\nconst setPointsAction = points => ({\n    type: SET_POINTS,\n    points\n})\n\nconst setPointCountAction = count => ({\n  type: SET_POINT_COUNT,\n  count\n})\n\nconst startDefiningPointsAction = () => ({\n  type: START_DEFINING_POINTS\n})\n\n\nexport const startDefiningPoints = () => dispatch => {\n  dispatch(resetSolverState())\n  dispatch(startDefiningPointsAction())\n}\n\nexport const addDefinedPoint = point => ({\n  type: ADD_DEFINED_POINT,\n  point\n})\n\nexport const stopDefiningPoints = () => ({\n  type: STOP_DEFINING_POINTS\n})\n\nexport const setPointCount = count => dispatch => {\n  dispatch(resetSolverState())\n  dispatch(setPointCountAction(count))\n}\n\nexport const randomizePoints = bounds => (dispatch, getState) => {\n  const { pointCount } = getState()\n  const { top, bottom, left, right } = bounds;\n  const points = Array.from({ length: pointCount }).map(\n    _ => [getRandomPoint(right, left), getRandomPoint(top, bottom) ]\n  )\n  dispatch(setPointsAction(points))\n}\n\nexport const setDefaultMap = (...args) => dispatch => {\n  dispatch(resetSolverState())\n  dispatch(setDefaultMapAction())\n}\n\n\n\n\n\n","\n\nexport default ev => {\n  if (typeof window !== \"undefined\" && window.dataLayer) {\n    console.log(ev)\n    window.dataLayer.push(ev);\n  }\n}\n"],"sourceRoot":""}