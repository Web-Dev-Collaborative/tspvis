{"version":3,"sources":["webpack://lib/webpack/bootstrap","webpack://lib/./src/constants.js","webpack://lib/./src/solvers/cost.js","webpack://lib/./src/solvers/heuristic/twoOptReciprocalExchange.worker.js","webpack://lib/./src/solvers/makeSolver.js","webpack://lib/./src/store/actions.js"],"names":["START_POINT_COLOR","POINT_COLOR","BEST_PATH_COLOR","EVALUATING_PATH_COLOR","EVALUATING_ERROR_COLOR","EVALUATING_SEGMENT_COLOR","distance","pt1","pt2","lng1","lat1","lng2","lat2","radlat1","Math","PI","radlat2","theta","radtheta","dist","sin","cos","acos","pathCost","path","slice","map","point","idx","reduce","a","b","wrapSolver","solver","args","console","log","self","postMessage","actions","terminate","makeSolver","run","solverConfig","detailLevel","delay","setBestPath","setEvaluatingPaths","getPaths","level","paths","cost","setEvaluatingPath","getPath","sleep","duration","Promise","resolve","setTimeout","onmessage","data","action","type","evaluatingDetailLevel","points","Error","SET_VIEWPORT_STATE","RESET_EVALUATING_STATE","RESET_BEST_PATH_STATE","SET_ALGORITHM","SET_DELAY","SET_EVALUATING_DETAIL_LEVEL","SET_SHOW_BEST_PATH","START_SOLVING","STOP_SOLVING","SET_BEST_PATH","SET_EVALUATING_PATHS","START_DEFINING_POINTS","ADD_DEFINED_POINT","STOP_DEFINING_POINTS","SET_POINT_COUNT","SET_POINTS","SET_DEFAULT_MAP","TOGGLE_SITE_INFO_OPEN","TOGGLE_ALG_INFO_OPEN","getRandomPoint","max","min","random","toggleSiteInfoOpen","toggleAlgInfoOpen","setViewportState","viewport","resetEvaluatingStateAction","resetBestPathStateAction","setAlgorithmAction","algorithm","defaults","startSolvingAction","stopSolvingAction","setAlgorithm","dispatch","setDelay","setEvaluatingDetailLevel","setShowBestPath","show","resetSolverState","startSolving","stopSolving","setDefaultMapAction","setPointsAction","setPointCountAction","count","startDefiningPointsAction","startDefiningPoints","addDefinedPoint","stopDefiningPoints","setPointCount","randomizePoints","bounds","getState","pointCount","top","bottom","left","right","Array","from","length","_","setDefaultMap"],"mappings":"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","file":"d7a77c00f41af2ace608.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/solvers/heuristic/twoOptReciprocalExchange.worker.js\");\n","\n// orangish\nexport const START_POINT_COLOR = [255, 87, 34]\n\n// blueish\nexport const POINT_COLOR = [41, 121, 255] \n\n\n// blackish\nexport const BEST_PATH_COLOR = [0, 0, 0, 240];\n\n// orangish\nexport const EVALUATING_PATH_COLOR = [255, 87, 34, 240];\n\n// reddish\nexport const EVALUATING_ERROR_COLOR = [255, 25, 25, 240];\n\n// greyish\nexport const EVALUATING_SEGMENT_COLOR = [180, 180, 180, 240]","\n\n// haversine great circle distance\nexport const distance = (pt1, pt2) => {\n  const [lng1, lat1] = pt1;\n  const [lng2, lat2] = pt2;\n  if ((lat1 === lat2) && (lng1 === lng2)) {\n\t\treturn 0;\n  }\n  \n  var radlat1 = Math.PI * lat1/180;\n  var radlat2 = Math.PI * lat2/180;\n\n  var theta = lng1-lng2;\n  var radtheta = Math.PI * theta/180;\n\n  var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n\n  if (dist > 1) {\n    dist = 1;\n  }\n  dist = Math.acos(dist);\n  dist = dist * 180/Math.PI;\n  return dist * 60 * 1.1515 * 1.609344;\n}\n\n\nexport const pathCost = path => {\n  return path.slice(0, -1)\n             .map((point, idx) => distance(point, path[idx+1]))\n             .reduce((a, b) => a+b, 0)\n}\n","/* eslint-disable no-restricted-globals */\nimport makeSolver from '../makeSolver';\nimport { pathCost } from '../cost';\n\nimport { EVALUATING_PATH_COLOR,\n         EVALUATING_SEGMENT_COLOR } from '../../constants';\n\n\n\nconst twoOptReciprocalExchange = async path => {\n  path.push(path[0])\n  let best = pathCost(path);\n  let swapped = true;\n  \n  self.setBestPath(path, best);\n  \n  while (swapped) {\n    swapped = false\n    for (let pt1=1; pt1<path.length-1; pt1++) {\n      for (let pt2=pt1+1; pt2<path.length-1; pt2++) {\n\n        // swap current pair of points\n        [path[pt1], path[pt2]] = [path[pt2], path[pt1]]\n\n        // calculate new cost\n        const cost = pathCost(path);\n\n        self.setEvaluatingPaths(() => ({\n          paths: [\n            { path: path.slice(0, pt1), color: EVALUATING_SEGMENT_COLOR },\n            { path: path.slice(pt1+1, pt2), color: EVALUATING_SEGMENT_COLOR },\n            { path: path.slice(pt2+1), color: EVALUATING_SEGMENT_COLOR },\n            { path: [path[pt1-1], path[pt1], path[pt1+1]], color: EVALUATING_PATH_COLOR },\n            { path: [path[pt2-1], path[pt2], path[pt2+1]], color: EVALUATING_PATH_COLOR }\n          ],\n          cost\n        }))\n        await self.sleep();\n\n        if (cost < best) {\n          // found a better path after the swap, keep it\n          swapped = true;\n          best = cost;\n          self.setBestPath(path, best);\n        } \n        else {\n          // swap back - this one's worse\n          [path[pt1], path[pt2]] = [path[pt2], path[pt1]]\n        }\n\n        self.setEvaluatingPath(() => ({\n          path: { path, color: EVALUATING_SEGMENT_COLOR },\n        }));\n        \n        await self.sleep()\n      }\n    }\n  }\n}\n\n\nmakeSolver(twoOptReciprocalExchange);\n","/* eslint-disable no-restricted-globals */\nimport * as actions from '../store/actions';\n\n\nconst wrapSolver = solver => async (...args) => {\n  console.log('calling solver')\n  await solver(...args);\n  console.log('solver finished')\n  self.postMessage(actions.stopSolvingAction());\n  self.terminate();\n}\n\n\nexport const makeSolver = solver => {\n  const run = wrapSolver(solver);\n\n  self.solverConfig = {\n    detailLevel: 0,\n    delay: 10\n  };\n\n\n  self.setBestPath = (...args) => {\n    self.postMessage(actions.setBestPath(...args))\n  }\n\n  self.setEvaluatingPaths = (getPaths, level=0) => {\n    if (self.solverConfig.detailLevel >= level) {\n      const { paths, cost } = getPaths();\n      self.postMessage(actions.setEvaluatingPaths(paths, cost));\n    }\n  }\n\n  self.setEvaluatingPath = (getPath, level=0) => {\n    if (self.solverConfig.detailLevel >= level) {\n      const { path, cost } = getPath();\n      self.postMessage(actions.setEvaluatingPath(path, cost)); \n    }\n  }\n\n  self.sleep = () => {\n    const duration = self.solverConfig.delay || 10;\n    return new Promise(resolve => {\n      setTimeout(resolve, duration)\n    })\n  }\n\n  self.onmessage = async ({ data: action }) => {\n    switch (action.type) {\n      case actions.START_SOLVING:\n\n        self.solverConfig.delay = action.delay;\n        self.solverConfig.detailLevel = action.evaluatingDetailLevel;\n        run(action.points)\n        break;\n      \n      case actions.SET_DELAY:\n        self.solverConfig.delay = action.delay;\n        break;\n  \n      case actions.SET_EVALUATING_DETAIL_LEVEL:\n        self.solverConfig.detailLevel = action.level\n        break;\n  \n      default:\n        throw new Error(`invalid action sent to solver ${action.type}`);\n    }\n  };\n};\n\n\nexport default makeSolver;\n","export const SET_VIEWPORT_STATE = 'SET_VIEWPORT_STATE';\n\nexport const RESET_EVALUATING_STATE = 'RESET_EVALUATING_STATE';\nexport const RESET_BEST_PATH_STATE = 'RESET_BEST_PATH_STATE';\n\nexport const SET_ALGORITHM = 'SET_ALGORITHM';\nexport const SET_DELAY = 'SET_DELAY';\nexport const SET_EVALUATING_DETAIL_LEVEL = 'SET_EVALUATING_DETAIL_LEVEL';\nexport const SET_SHOW_BEST_PATH = 'SET_SHOW_BEST_PATH';\nexport const START_SOLVING = 'START_SOLVING';\nexport const STOP_SOLVING = 'STOP_SOLVING';\n\nexport const SET_BEST_PATH = 'SET_BEST_PATH';\nexport const SET_EVALUATING_PATHS = 'SET_EVALUATING_PATHS';\n\nexport const START_DEFINING_POINTS = 'START_DEFINING_POINTS';\nexport const ADD_DEFINED_POINT = 'ADD_DEFINED_POINT';\nexport const STOP_DEFINING_POINTS = 'STOP_DEFINING_POINTS';\nexport const SET_POINT_COUNT = 'SET_POINT_COUNT';\nexport const SET_POINTS = 'SET_POINTS';\nexport const SET_DEFAULT_MAP = 'SET_DEFAULT_MAP';\n\nexport const TOGGLE_SITE_INFO_OPEN = 'TOGGLE_SITE_INFO_OPEN';\nexport const TOGGLE_ALG_INFO_OPEN = 'TOGGLE_ALG_INFO_OPEN';\n\n\nconst getRandomPoint = (max, min) => (\n  Math.random() * (max - min) + min\n)\n\n\n//\n// BASIC UI\n//\nexport const toggleSiteInfoOpen = () => ({\n  type: TOGGLE_SITE_INFO_OPEN\n})\n\nexport const toggleAlgInfoOpen = () => ({\n  type: TOGGLE_ALG_INFO_OPEN\n})\n\n\n//\n// MAP INTERACTION\n//\nexport const setViewportState = viewport => ({\n  type: SET_VIEWPORT_STATE,\n  viewport\n})\n\n\n//\n// SOLVER CONTROLS\n//\nconst resetEvaluatingStateAction = () => ({\n  type: RESET_EVALUATING_STATE\n})\n\nconst resetBestPathStateAction = () => ({\n  type: RESET_BEST_PATH_STATE\n})\n\nconst setAlgorithmAction = (algorithm, defaults) => ({\n  type: SET_ALGORITHM,\n  algorithm,\n  defaults\n})\n\n\nexport const startSolvingAction = (points, delay, evaluatingDetailLevel) => ({\n  type: START_SOLVING,\n  points,\n  delay,\n  evaluatingDetailLevel\n})\n\nexport const stopSolvingAction = () => ({\n  type: STOP_SOLVING\n})\n\n\nexport const setAlgorithm = (algorithm, defaults={}) => dispatch => {\n  dispatch(resetEvaluatingStateAction())\n  dispatch(setAlgorithmAction(algorithm, defaults))  \n}\n\nexport const setDelay = delay => ({\n  type: SET_DELAY,\n  delay\n})\n\nexport const setEvaluatingDetailLevel = level => ({\n  type: SET_EVALUATING_DETAIL_LEVEL,\n  level\n})\n\nexport const setShowBestPath = show => ({\n  type: SET_SHOW_BEST_PATH,\n  show\n})\n\nexport const resetSolverState = () => dispatch => {\n  dispatch(resetEvaluatingStateAction())\n  dispatch(resetBestPathStateAction())\n}\n\nexport const startSolving = (...args) => dispatch => {\n  dispatch(resetEvaluatingStateAction())\n  dispatch(startSolvingAction(...args))\n}\n\nexport const stopSolving = () => dispatch => {\n  dispatch(resetEvaluatingStateAction())\n  dispatch(stopSolvingAction())\n}\n\n\n\n//\n// SOLVER ACTIONS\n//\nexport const setEvaluatingPath = (path, cost) => ({\n  type: SET_EVALUATING_PATHS,\n  paths: [\n    path\n  ],\n  cost\n})\n\n\nexport const setEvaluatingPaths = (paths, cost) => ({\n  type: SET_EVALUATING_PATHS,\n  paths,\n  cost\n})\n\nexport const setBestPath = (path, cost) => ({\n  type: SET_BEST_PATH,\n  path,\n  cost\n})\n\n\n//\n// POINT CONTROLS\n//\n\nconst setDefaultMapAction = () => ({\n  type: SET_DEFAULT_MAP\n})\n\nconst setPointsAction = points => ({\n    type: SET_POINTS,\n    points\n})\n\nconst setPointCountAction = count => ({\n  type: SET_POINT_COUNT,\n  count\n})\n\nconst startDefiningPointsAction = () => ({\n  type: START_DEFINING_POINTS\n})\n\n\nexport const startDefiningPoints = () => dispatch => {\n  dispatch(resetSolverState())\n  dispatch(startDefiningPointsAction())\n}\n\nexport const addDefinedPoint = point => ({\n  type: ADD_DEFINED_POINT,\n  point\n})\n\nexport const stopDefiningPoints = () => ({\n  type: STOP_DEFINING_POINTS\n})\n\nexport const setPointCount = count => dispatch => {\n  dispatch(resetSolverState())\n  dispatch(setPointCountAction(count))\n}\n\nexport const randomizePoints = bounds => (dispatch, getState) => {\n  const { pointCount } = getState()\n  const { top, bottom, left, right } = bounds;\n  const points = Array.from({ length: pointCount }).map(\n    _ => [getRandomPoint(right, left), getRandomPoint(top, bottom) ]\n  )\n  dispatch(setPointsAction(points))\n}\n\nexport const setDefaultMap = (...args) => dispatch => {\n  dispatch(resetSolverState())\n  dispatch(setDefaultMapAction())\n}\n\n\n\n\n\n"],"sourceRoot":""}