{"version":3,"sources":["webpack://lib/webpack/bootstrap","webpack://lib/./src/constants.js","webpack://lib/./src/solvers/cost.js","webpack://lib/./src/solvers/exhaustive/depthFirstSearch.worker.js","webpack://lib/./src/solvers/makeSolver.js","webpack://lib/./src/store/actions.js","webpack://lib/./src/store/emitCustomEvent.js"],"names":["START_POINT_COLOR","POINT_COLOR","BEST_PATH_COLOR","EVALUATING_PATH_COLOR","EVALUATING_ERROR_COLOR","EVALUATING_SEGMENT_COLOR","distance","pt1","pt2","lng1","lat1","lng2","lat2","radlat1","Math","PI","radlat2","theta","radtheta","dist","sin","cos","acos","pathCost","path","slice","map","point","idx","reduce","a","b","wrapSolver","solver","args","console","log","self","postMessage","actions","terminate","makeSolver","run","solverConfig","detailLevel","delay","setBestPath","setEvaluatingPaths","getPaths","level","paths","cost","setEvaluatingPath","getPath","sleep","duration","Promise","resolve","setTimeout","onmessage","data","action","type","evaluatingDetailLevel","points","Error","SET_VIEWPORT_STATE","RESET_EVALUATING_STATE","RESET_BEST_PATH_STATE","SET_ALGORITHM","SET_DELAY","SET_EVALUATING_DETAIL_LEVEL","SET_SHOW_BEST_PATH","START_SOLVING","STOP_SOLVING","SET_BEST_PATH","SET_EVALUATING_PATHS","START_DEFINING_POINTS","ADD_DEFINED_POINT","STOP_DEFINING_POINTS","SET_POINT_COUNT","SET_POINTS","SET_DEFAULT_MAP","TOGGLE_SITE_INFO_OPEN","TOGGLE_ALG_INFO_OPEN","getRandomPoint","max","min","random","toggleSiteInfoOpen","dispatch","gtmEmit","event","toggleAlgInfoOpen","getState","algorithm","setViewportState","viewport","resetEvaluatingStateAction","resetBestPathStateAction","setAlgorithmAction","defaults","startSolvingAction","stopSolvingAction","setAlgorithm","setDelay","setEvaluatingDetailLevel","setShowBestPath","show","resetSolverState","startSolving","stopSolving","setDefaultMapAction","setPointsAction","setPointCountAction","count","startDefiningPointsAction","stopDefiningPointsAction","startDefiningPoints","addDefinedPoint","stopDefiningPoints","pointCount","setPointCount","randomizePoints","bounds","top","bottom","left","right","Array","from","length","_","setDefaultMap","ev","window","dataLayer","push"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;ACjFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACO,KAAMA,kBAAiB,CAAG,CAAC,GAAD,CAAM,EAAN,CAAU,EAAV,CAA1B,CAEP;AACO,KAAMC,YAAW,CAAG,CAAC,EAAD,CAAK,GAAL,CAAU,GAAV,CAApB,CAGP;AACO,KAAMC,gBAAe,CAAG,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,GAAV,CAAxB,CAEP;AACO,KAAMC,sBAAqB,CAAG,CAAC,GAAD,CAAM,EAAN,CAAU,EAAV,CAAc,GAAd,CAA9B,CAEP;AACO,KAAMC,uBAAsB,CAAG,CAAC,GAAD,CAAM,EAAN,CAAU,EAAV,CAAc,GAAd,CAA/B,CAEP;AACO,KAAMC,yBAAwB,CAAG,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAgB,GAAhB,CAAjC,C;;;;;;;;;;;;AChBP;AAAA;AAAA;AAAA;AACO,KAAMC,SAAQ,CAAG,CAACC,GAAD,CAAMC,GAAN,GAAc,CACpC,KAAM,CAACC,IAAD,CAAOC,IAAP,EAAeH,GAArB,CACA,KAAM,CAACI,IAAD,CAAOC,IAAP,EAAeJ,GAArB,CACA,GAAKE,IAAI,GAAKE,IAAV,EAAoBH,IAAI,GAAKE,IAAjC,CAAwC,CACxC,MAAO,EAAP,CACC,CAED,GAAIE,QAAO,CAAGC,IAAI,CAACC,EAAL,CAAUL,IAAV,CAAe,GAA7B,CACA,GAAIM,QAAO,CAAGF,IAAI,CAACC,EAAL,CAAUH,IAAV,CAAe,GAA7B,CAEA,GAAIK,MAAK,CAAGR,IAAI,CAACE,IAAjB,CACA,GAAIO,SAAQ,CAAGJ,IAAI,CAACC,EAAL,CAAUE,KAAV,CAAgB,GAA/B,CAEA,GAAIE,KAAI,CAAGL,IAAI,CAACM,GAAL,CAASP,OAAT,EAAoBC,IAAI,CAACM,GAAL,CAASJ,OAAT,CAApB,CAAwCF,IAAI,CAACO,GAAL,CAASR,OAAT,EAAoBC,IAAI,CAACO,GAAL,CAASL,OAAT,CAApB,CAAwCF,IAAI,CAACO,GAAL,CAASH,QAAT,CAA3F,CAEA,GAAIC,IAAI,CAAG,CAAX,CAAc,CACZA,IAAI,CAAG,CAAP,CACD,CACDA,IAAI,CAAGL,IAAI,CAACQ,IAAL,CAAUH,IAAV,CAAP,CACAA,IAAI,CAAGA,IAAI,CAAG,GAAP,CAAWL,IAAI,CAACC,EAAvB,CACA,MAAOI,KAAI,CAAG,EAAP,CAAY,MAAZ,CAAqB,QAA5B,CACD,CArBM,CAwBA,KAAMI,SAAQ,CAAGC,IAAI,EAAI,CAC9B,MAAOA,KAAI,CAACC,KAAL,CAAW,CAAX,CAAc,CAAC,CAAf,EACKC,GADL,CACS,CAACC,KAAD,CAAQC,GAAR,GAAgBtB,QAAQ,CAACqB,KAAD,CAAQH,IAAI,CAACI,GAAG,CAAC,CAAL,CAAZ,CADjC,EAEKC,MAFL,CAEY,CAACC,CAAD,CAAIC,CAAJ,GAAUD,CAAC,CAACC,CAFxB,CAE2B,CAF3B,CAAP,CAGD,CAJM,C;;;;;;;;;;;;AC3BP;AAAA;AAAA;AAAA;AAAA;AACuC;AACJ;;AAGwB;;;AAG3D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO,8CAA8C,mEAAwB,EAAE;AAC/E,OAAO,4DAA4D,gEAAqB;AACxF;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,sDAAQ;;AAEzB;AACA,aAAa,2BAA2B,mEAAwB;AAChE,KAAK;;AAEL;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,cAAc,mEAAwB;AACnD,KAAK;AACL;;AAEA;AACA;AACA;;;AAGA,2DAAU;;;;;;;;;;;;;AC1FV;AAAA;AAAA;AAAA,0CAIA,KAAMC,WAAU,CAAGC,MAAM,EAAI,MAAO,GAAGC,IAAV,GAAmB,CAC9CC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACA,KAAMH,OAAM,MAAN,QAAUC,IAAV,CAAN,CACAC,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACAC,IAAI,CAACC,WAAL,CAAiBC,gEAAA,EAAjB,EACAF,IAAI,CAACG,SAAL,GACD,CAND,CASO,KAAMC,WAAU,CAAGR,MAAM,EAAI,CAClC,KAAMS,IAAG,CAAGV,UAAU,CAACC,MAAD,CAAtB,CAEAI,IAAI,CAACM,YAAL,CAAoB,CAClBC,WAAW,CAAE,CADK,CAElBC,KAAK,CAAE,EAFW,CAApB,CAMAR,IAAI,CAACS,WAAL,CAAmB,CAAC,GAAGZ,IAAJ,GAAa,CAC9BG,IAAI,CAACC,WAAL,CAAiBC,0DAAA,OAAAA,2CAAO,CAAgBL,IAAhB,CAAxB,EACD,CAFD,CAIAG,IAAI,CAACU,kBAAL,CAA0B,CAACC,QAAD,CAAWC,KAAK,CAAC,CAAjB,GAAuB,CAC/C,GAAIZ,IAAI,CAACM,YAAL,CAAkBC,WAAlB,EAAiCK,KAArC,CAA4C,CAC1C,KAAM,CAAEC,KAAF,CAASC,IAAT,EAAkBH,QAAQ,EAAhC,CACAX,IAAI,CAACC,WAAL,CAAiBC,iEAAA,CAA2BW,KAA3B,CAAkCC,IAAlC,CAAjB,EACD,CACF,CALD,CAOAd,IAAI,CAACe,iBAAL,CAAyB,CAACC,OAAD,CAAUJ,KAAK,CAAC,CAAhB,GAAsB,CAC7C,GAAIZ,IAAI,CAACM,YAAL,CAAkBC,WAAlB,EAAiCK,KAArC,CAA4C,CAC1C,KAAM,CAAEzB,IAAF,CAAQ2B,IAAR,EAAiBE,OAAO,EAA9B,CACAhB,IAAI,CAACC,WAAL,CAAiBC,gEAAA,CAA0Bf,IAA1B,CAAgC2B,IAAhC,CAAjB,EACD,CACF,CALD,CAOAd,IAAI,CAACiB,KAAL,CAAa,IAAM,CACjB,KAAMC,SAAQ,CAAGlB,IAAI,CAACM,YAAL,CAAkBE,KAAlB,EAA2B,EAA5C,CACA,MAAO,IAAIW,QAAJ,CAAYC,OAAO,EAAI,CAC5BC,UAAU,CAACD,OAAD,CAAUF,QAAV,CAAV,CACD,CAFM,CAAP,CAGD,CALD,CAOAlB,IAAI,CAACsB,SAAL,CAAiB,MAAO,CAAEC,IAAI,CAAEC,MAAR,CAAP,GAA4B,CAC3C,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKvB,6DAAL,CAEEF,IAAI,CAACM,YAAL,CAAkBE,KAAlB,CAA0BgB,MAAM,CAAChB,KAAjC,CACAR,IAAI,CAACM,YAAL,CAAkBC,WAAlB,CAAgCiB,MAAM,CAACE,qBAAvC,CACArB,GAAG,CAACmB,MAAM,CAACG,MAAR,CAAH,CACA,MAEF,IAAKzB,yDAAL,CACEF,IAAI,CAACM,YAAL,CAAkBE,KAAlB,CAA0BgB,MAAM,CAAChB,KAAjC,CACA,MAEF,IAAKN,2EAAL,CACEF,IAAI,CAACM,YAAL,CAAkBC,WAAlB,CAAgCiB,MAAM,CAACZ,KAAvC,CACA,MAEF,QACE,KAAM,IAAIgB,MAAJ,CAAW,iCAAgCJ,MAAM,CAACC,IAAK,EAAvD,CAAN,CAjBJ,CAmBD,CApBD,CAqBD,CAvDM,CA0DQrB,yEAAf,E;;;;;;;;;;;;ACvEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACO,KAAMyB,mBAAkB,CAAG,oBAA3B,CAEA,KAAMC,uBAAsB,CAAG,wBAA/B,CACA,KAAMC,sBAAqB,CAAG,uBAA9B,CAEA,KAAMC,cAAa,CAAG,eAAtB,CACA,KAAMC,UAAS,CAAG,WAAlB,CACA,KAAMC,4BAA2B,CAAG,6BAApC,CACA,KAAMC,mBAAkB,CAAG,oBAA3B,CACA,KAAMC,cAAa,CAAG,eAAtB,CACA,KAAMC,aAAY,CAAG,cAArB,CAEA,KAAMC,cAAa,CAAG,eAAtB,CACA,KAAMC,qBAAoB,CAAG,sBAA7B,CAEA,KAAMC,sBAAqB,CAAG,uBAA9B,CACA,KAAMC,kBAAiB,CAAG,mBAA1B,CACA,KAAMC,qBAAoB,CAAG,sBAA7B,CACA,KAAMC,gBAAe,CAAG,iBAAxB,CACA,KAAMC,WAAU,CAAG,YAAnB,CACA,KAAMC,gBAAe,CAAG,iBAAxB,CAEA,KAAMC,sBAAqB,CAAG,uBAA9B,CACA,KAAMC,qBAAoB,CAAG,sBAA7B,CAGP,KAAMC,eAAc,CAAG,CAACC,GAAD,CAAMC,GAAN,GACrBzE,IAAI,CAAC0E,MAAL,IAAiBF,GAAG,CAAGC,GAAvB,EAA8BA,GADhC,CAKA;AACA;AACA;AACO,KAAME,mBAAkB,CAAG,IAAMC,QAAQ,EAAI,CAClDC,gEAAO,CAAC,CAAEC,KAAK,CAAE,gBAAT,CAAD,CAAP,CACA,MAAO,CACL9B,IAAI,CAAEqB,qBADD,CAAP,CAGD,CALM,CAOA,KAAMU,kBAAiB,CAAG,IAAM,CAACH,QAAD,CAAWI,QAAX,GAAwB,CAC7D,KAAMC,UAAS,CAAGD,QAAQ,EAA1B,CACAH,gEAAO,CAAC,CACNC,KAAK,CAAE,qBADD,CAENG,SAFM,CAAD,CAAP,CAIA,MAAO,CACLjC,IAAI,CAAEsB,oBADD,CAAP,CAGD,CATM,CAYP;AACA;AACA;AACO,KAAMY,iBAAgB,CAAGC,QAAQ,GAAK,CAC3CnC,IAAI,CAAEI,kBADqC,CAE3C+B,QAF2C,CAAL,CAAjC,CAMP;AACA;AACA;AACA,KAAMC,2BAA0B,CAAG,KAAO,CACxCpC,IAAI,CAAEK,sBADkC,CAAP,CAAnC,CAIA,KAAMgC,yBAAwB,CAAG,KAAO,CACtCrC,IAAI,CAAEM,qBADgC,CAAP,CAAjC,CAIA,KAAMgC,mBAAkB,CAAG,CAACL,SAAD,CAAYM,QAAZ,IAA0B,CACnDvC,IAAI,CAAEO,aAD6C,CAEnD0B,SAFmD,CAGnDM,QAHmD,CAA1B,CAA3B,CAOO,KAAMC,mBAAkB,CAAG,CAACtC,MAAD,CAASnB,KAAT,CAAgBkB,qBAAhB,IAA2C,CAC3ED,IAAI,CAAEW,aADqE,CAE3ET,MAF2E,CAG3EnB,KAH2E,CAI3EkB,qBAJ2E,CAA3C,CAA3B,CAOA,KAAMwC,kBAAiB,CAAG,KAAO,CACtCzC,IAAI,CAAEY,YADgC,CAAP,CAA1B,CAKA,KAAM8B,aAAY,CAAG,CAACT,SAAD,CAAYM,QAAQ,CAAC,EAArB,GAA4BX,QAAQ,EAAI,CAClEC,gEAAO,CAAC,CACNC,KAAK,CAAE,kBADD,CAENG,SAFM,CAAD,CAAP,CAIAL,QAAQ,CAACQ,0BAA0B,EAA3B,CAAR,CACAR,QAAQ,CAACU,kBAAkB,CAACL,SAAD,CAAYM,QAAZ,CAAnB,CAAR,CACD,CAPM,CASA,KAAMI,SAAQ,CAAG5D,KAAK,EAAI6C,QAAQ,EAAI,CAC3CC,gEAAO,CAAC,CACNC,KAAK,CAAE,WADD,CAEN/C,KAFM,CAAD,CAAP,CAIA,MAAO,CACLiB,IAAI,CAAEQ,SADD,CAELzB,KAFK,CAAP,CAID,CATM,CAWA,KAAM6D,yBAAwB,CAAGzD,KAAK,GAAK,CAChDa,IAAI,CAAES,2BAD0C,CAEhDtB,KAFgD,CAAL,CAAtC,CAKA,KAAM0D,gBAAe,CAAGC,IAAI,GAAK,CACtC9C,IAAI,CAAEU,kBADgC,CAEtCoC,IAFsC,CAAL,CAA5B,CAKA,KAAMC,iBAAgB,CAAG,IAAMnB,QAAQ,EAAI,CAChDC,gEAAO,CAAC,CAAEC,KAAK,CAAE,cAAT,CAAD,CAAP,CACAF,QAAQ,CAACQ,0BAA0B,EAA3B,CAAR,CACAR,QAAQ,CAACS,wBAAwB,EAAzB,CAAR,CACD,CAJM,CAMA,KAAMW,aAAY,CAAG,CAAC,GAAG5E,IAAJ,GAAa,CAACwD,QAAD,CAAWI,QAAX,GAAwB,CAC/D,KAAM,CAAEC,SAAF,EAAgBD,QAAQ,EAA9B,CACAH,gEAAO,CAAC,CACNC,KAAK,CAAE,eADD,CAENG,SAFM,CAAD,CAAP,CAIAL,QAAQ,CAACQ,0BAA0B,EAA3B,CAAR,CACAR,QAAQ,CAACY,kBAAkB,MAAlB,QAAsBpE,IAAtB,CAAD,CAAR,CACD,CARM,CAUA,KAAM6E,YAAW,CAAG,IAAMrB,QAAQ,EAAI,CAC3CC,gEAAO,CAAC,CAAEC,KAAK,CAAE,cAAT,CAAD,CAAP,CACAF,QAAQ,CAACQ,0BAA0B,EAA3B,CAAR,CACAR,QAAQ,CAACa,iBAAiB,EAAlB,CAAR,CACD,CAJM,CAQP;AACA;AACA;AACO,KAAMnD,kBAAiB,CAAG,CAAC5B,IAAD,CAAO2B,IAAP,IAAiB,CAChDW,IAAI,CAAEc,oBAD0C,CAEhD1B,KAAK,CAAE,CACL1B,IADK,CAFyC,CAKhD2B,IALgD,CAAjB,CAA1B,CASA,KAAMJ,mBAAkB,CAAG,CAACG,KAAD,CAAQC,IAAR,IAAkB,CAClDW,IAAI,CAAEc,oBAD4C,CAElD1B,KAFkD,CAGlDC,IAHkD,CAAlB,CAA3B,CAMA,KAAML,YAAW,CAAG,CAACtB,IAAD,CAAO2B,IAAP,IAAiB,CAC1CW,IAAI,CAAEa,aADoC,CAE1CnD,IAF0C,CAG1C2B,IAH0C,CAAjB,CAApB,CAOP;AACA;AACA;AAEA,KAAM6D,oBAAmB,CAAG,KAAO,CACjClD,IAAI,CAAEoB,eAD2B,CAAP,CAA5B,CAIA,KAAM+B,gBAAe,CAAGjD,MAAM,GAAK,CAC/BF,IAAI,CAAEmB,UADyB,CAE/BjB,MAF+B,CAAL,CAA9B,CAKA,KAAMkD,oBAAmB,CAAGC,KAAK,GAAK,CACpCrD,IAAI,CAAEkB,eAD8B,CAEpCmC,KAFoC,CAAL,CAAjC,CAKA,KAAMC,0BAAyB,CAAG,KAAO,CACvCtD,IAAI,CAAEe,qBADiC,CAAP,CAAlC,CAIA,KAAMwC,yBAAwB,CAAG,KAAO,CACtCvD,IAAI,CAAEiB,oBADgC,CAAP,CAAjC,CAIO,KAAMuC,oBAAmB,CAAG,IAAM5B,QAAQ,EAAI,CACnDC,gEAAO,CAAC,CACNC,KAAK,CAAE,uBADD,CAAD,CAAP,CAGAF,QAAQ,CAACmB,gBAAgB,EAAjB,CAAR,CACAnB,QAAQ,CAAC0B,yBAAyB,EAA1B,CAAR,CACD,CANM,CAQA,KAAMG,gBAAe,CAAG5F,KAAK,GAAK,CACvCmC,IAAI,CAAEgB,iBADiC,CAEvCnD,KAFuC,CAAL,CAA7B,CAKA,KAAM6F,mBAAkB,CAAG,IAAM,CAAC9B,QAAD,CAAWI,QAAX,GAAwB,CAC9D,KAAM,CAAE2B,UAAF,EAAiB3B,QAAQ,EAA/B,CACAH,gEAAO,CAAC,CACNC,KAAK,CAAE,sBADD,CAEN6B,UAFM,CAAD,CAAP,CAIA/B,QAAQ,CAAC2B,wBAAwB,EAAzB,CAAR,CACD,CAPM,CASA,KAAMK,cAAa,CAAGP,KAAK,EAAIzB,QAAQ,EAAI,CAChDC,gEAAO,CAAC,CACNC,KAAK,CAAE,iBADD,CAEN6B,UAAU,CAAEN,KAFN,CAAD,CAAP,CAIAzB,QAAQ,CAACmB,gBAAgB,EAAjB,CAAR,CACAnB,QAAQ,CAACwB,mBAAmB,CAACC,KAAD,CAApB,CAAR,CACD,CAPM,CASA,KAAMQ,gBAAe,CAAGC,MAAM,EAAI,CAAClC,QAAD,CAAWI,QAAX,GAAwB,CAC/D,KAAM,CAAE2B,UAAF,EAAiB3B,QAAQ,EAA/B,CACA,KAAM,CAAE+B,GAAF,CAAOC,MAAP,CAAeC,IAAf,CAAqBC,KAArB,EAA+BJ,MAArC,CACA,KAAM5D,OAAM,CAAGiE,KAAK,CAACC,IAAN,CAAW,CAAEC,MAAM,CAAEV,UAAV,CAAX,EAAmC/F,GAAnC,CACb0G,CAAC,EAAI,CAAC/C,cAAc,CAAC2C,KAAD,CAAQD,IAAR,CAAf,CAA8B1C,cAAc,CAACwC,GAAD,CAAMC,MAAN,CAA5C,CADQ,CAAf,CAIAnC,gEAAO,CAAC,CACNC,KAAK,CAAE,kBADD,CAEN6B,UAFM,CAAD,CAAP,CAIA/B,QAAQ,CAACuB,eAAe,CAACjD,MAAD,CAAhB,CAAR,CACD,CAZM,CAcA,KAAMqE,cAAa,CAAG,CAAC,GAAGnG,IAAJ,GAAawD,QAAQ,EAAI,CACpDC,gEAAO,CAAC,CACNC,KAAK,CAAE,iBADD,CAAD,CAAP,CAGAF,QAAQ,CAACmB,gBAAgB,EAAjB,CAAR,CACAnB,QAAQ,CAACsB,mBAAmB,EAApB,CAAR,CACD,CANM,C;;;;;;;;;;;;ACjPP;AAAesB,iEAAE,EAAI,CACnB,GAAI,MAAOC,OAAP,GAAkB,WAAlB,EAAiCA,MAAM,CAACC,SAA5C,CAAuD,CACrDrG,OAAO,CAACC,GAAR,CAAYkG,EAAZ,EACAC,MAAM,CAACC,SAAP,CAAiBC,IAAjB,CAAsBH,EAAtB,EACD,CACF,CALD,E","file":"2771392b7f922fe61092.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/solvers/exhaustive/depthFirstSearch.worker.js\");\n","\n// orangish\nexport const START_POINT_COLOR = [255, 87, 34]\n\n// blueish\nexport const POINT_COLOR = [41, 121, 255] \n\n\n// blackish\nexport const BEST_PATH_COLOR = [0, 0, 0, 240];\n\n// orangish\nexport const EVALUATING_PATH_COLOR = [255, 87, 34, 240];\n\n// reddish\nexport const EVALUATING_ERROR_COLOR = [255, 25, 25, 240];\n\n// greyish\nexport const EVALUATING_SEGMENT_COLOR = [180, 180, 180, 240]","\n\n// haversine great circle distance\nexport const distance = (pt1, pt2) => {\n  const [lng1, lat1] = pt1;\n  const [lng2, lat2] = pt2;\n  if ((lat1 === lat2) && (lng1 === lng2)) {\n\t\treturn 0;\n  }\n  \n  var radlat1 = Math.PI * lat1/180;\n  var radlat2 = Math.PI * lat2/180;\n\n  var theta = lng1-lng2;\n  var radtheta = Math.PI * theta/180;\n\n  var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n\n  if (dist > 1) {\n    dist = 1;\n  }\n  dist = Math.acos(dist);\n  dist = dist * 180/Math.PI;\n  return dist * 60 * 1.1515 * 1.609344;\n}\n\n\nexport const pathCost = path => {\n  return path.slice(0, -1)\n             .map((point, idx) => distance(point, path[idx+1]))\n             .reduce((a, b) => a+b, 0)\n}\n","/* eslint-disable no-restricted-globals */\nimport makeSolver from '../makeSolver';\nimport { pathCost } from '../cost';\n\nimport { EVALUATING_PATH_COLOR,\n         EVALUATING_SEGMENT_COLOR } from '../../constants';\n\n\nconst setDifference = (setA, setB) => {\n  const ret = new Set(setA);\n  setB.forEach(p => {\n    ret.delete(p)\n  })\n  return ret\n}\n\nconst dfs = async (points, path=[], visited=null, overallBest=null) => {\n  if (visited === null) {\n    // initial call\n    path = [points.shift()]\n    points = new Set(points);\n    visited = new Set();\n  }\n\n  self.setEvaluatingPaths(() => ({\n    paths: [\n      { path: path.slice(0, path.length - 1), color: EVALUATING_SEGMENT_COLOR },\n      { path: path.slice(path.length - 2, path.length + 1), color: EVALUATING_PATH_COLOR }\n    ]\n  }), 2)\n  await self.sleep();\n\n  // figure out what points are left from this point\n  const available = setDifference(points, visited);\n\n  if (available.size === 0) {\n    // this must be a complete path\n    const backToStart = [...path, path[0]];\n\n    // calculate the cost of this path\n    const cost = pathCost(backToStart);\n\n    self.setEvaluatingPath(() => ({\n      path: { path: backToStart, color: EVALUATING_SEGMENT_COLOR }\n    }), cost);\n\n    await self.sleep();\n\n    // return both the cost and the path where we're at\n    return [cost, backToStart] \n  }\n\n\n  let [bestCost, bestPath] = [null, null];\n\n  // for every point yet to be visited along this path\n  for (const p of available) {\n\n    // go to that point\n    visited.add(p)\n    path.push(p)\n\n    // RECURSE - go through all the possible points from that point\n    const [curCost, curPath] = await dfs(points, path, visited, overallBest);\n    \n    // if that path is better, keep it\n    if (bestCost === null || curCost < bestCost) {\n      [bestCost, bestPath] = [curCost, curPath];\n      \n      if (overallBest === null || bestCost < overallBest) {\n        // found a new best complete path\n        overallBest = bestCost\n        self.setBestPath(bestPath, bestCost);\n      }\n    }\n    \n    // go back up and make that point available again\n    visited.delete(p)\n    path.pop();\n\n    self.setEvaluatingPath(() => ({\n      path: { path, color: EVALUATING_SEGMENT_COLOR }\n    }), 2)\n    await self.sleep();\n\n  }\n  return [bestCost, bestPath]\n}\n\n\nmakeSolver(dfs);\n","/* eslint-disable no-restricted-globals */\nimport * as actions from '../store/actions';\n\n\nconst wrapSolver = solver => async (...args) => {\n  console.log('calling solver')\n  await solver(...args);\n  console.log('solver finished')\n  self.postMessage(actions.stopSolvingAction());\n  self.terminate();\n}\n\n\nexport const makeSolver = solver => {\n  const run = wrapSolver(solver);\n\n  self.solverConfig = {\n    detailLevel: 0,\n    delay: 10\n  };\n\n\n  self.setBestPath = (...args) => {\n    self.postMessage(actions.setBestPath(...args))\n  }\n\n  self.setEvaluatingPaths = (getPaths, level=0) => {\n    if (self.solverConfig.detailLevel >= level) {\n      const { paths, cost } = getPaths();\n      self.postMessage(actions.setEvaluatingPaths(paths, cost));\n    }\n  }\n\n  self.setEvaluatingPath = (getPath, level=0) => {\n    if (self.solverConfig.detailLevel >= level) {\n      const { path, cost } = getPath();\n      self.postMessage(actions.setEvaluatingPath(path, cost)); \n    }\n  }\n\n  self.sleep = () => {\n    const duration = self.solverConfig.delay || 10;\n    return new Promise(resolve => {\n      setTimeout(resolve, duration)\n    })\n  }\n\n  self.onmessage = async ({ data: action }) => {\n    switch (action.type) {\n      case actions.START_SOLVING:\n\n        self.solverConfig.delay = action.delay;\n        self.solverConfig.detailLevel = action.evaluatingDetailLevel;\n        run(action.points)\n        break;\n      \n      case actions.SET_DELAY:\n        self.solverConfig.delay = action.delay;\n        break;\n  \n      case actions.SET_EVALUATING_DETAIL_LEVEL:\n        self.solverConfig.detailLevel = action.level\n        break;\n  \n      default:\n        throw new Error(`invalid action sent to solver ${action.type}`);\n    }\n  };\n};\n\n\nexport default makeSolver;\n","import gtmEmit from './emitCustomEvent';\nexport const SET_VIEWPORT_STATE = 'SET_VIEWPORT_STATE';\n\nexport const RESET_EVALUATING_STATE = 'RESET_EVALUATING_STATE';\nexport const RESET_BEST_PATH_STATE = 'RESET_BEST_PATH_STATE';\n\nexport const SET_ALGORITHM = 'SET_ALGORITHM';\nexport const SET_DELAY = 'SET_DELAY';\nexport const SET_EVALUATING_DETAIL_LEVEL = 'SET_EVALUATING_DETAIL_LEVEL';\nexport const SET_SHOW_BEST_PATH = 'SET_SHOW_BEST_PATH';\nexport const START_SOLVING = 'START_SOLVING';\nexport const STOP_SOLVING = 'STOP_SOLVING';\n\nexport const SET_BEST_PATH = 'SET_BEST_PATH';\nexport const SET_EVALUATING_PATHS = 'SET_EVALUATING_PATHS';\n\nexport const START_DEFINING_POINTS = 'START_DEFINING_POINTS';\nexport const ADD_DEFINED_POINT = 'ADD_DEFINED_POINT';\nexport const STOP_DEFINING_POINTS = 'STOP_DEFINING_POINTS';\nexport const SET_POINT_COUNT = 'SET_POINT_COUNT';\nexport const SET_POINTS = 'SET_POINTS';\nexport const SET_DEFAULT_MAP = 'SET_DEFAULT_MAP';\n\nexport const TOGGLE_SITE_INFO_OPEN = 'TOGGLE_SITE_INFO_OPEN';\nexport const TOGGLE_ALG_INFO_OPEN = 'TOGGLE_ALG_INFO_OPEN';\n\n\nconst getRandomPoint = (max, min) => (\n  Math.random() * (max - min) + min\n)\n\n\n//\n// BASIC UI\n//\nexport const toggleSiteInfoOpen = () => dispatch => {\n  gtmEmit({ event: 'open-site-info' })\n  return {\n    type: TOGGLE_SITE_INFO_OPEN\n  }\n}\n\nexport const toggleAlgInfoOpen = () => (dispatch, getState) => {\n  const algorithm = getState();\n  gtmEmit({\n    event: 'open-algorithm-info',\n    algorithm\n  })\n  return {\n    type: TOGGLE_ALG_INFO_OPEN\n  }\n}\n\n\n//\n// MAP INTERACTION\n//\nexport const setViewportState = viewport => ({\n  type: SET_VIEWPORT_STATE,\n  viewport\n})\n\n\n//\n// SOLVER CONTROLS\n//\nconst resetEvaluatingStateAction = () => ({\n  type: RESET_EVALUATING_STATE\n})\n\nconst resetBestPathStateAction = () => ({\n  type: RESET_BEST_PATH_STATE\n})\n\nconst setAlgorithmAction = (algorithm, defaults) => ({\n  type: SET_ALGORITHM,\n  algorithm,\n  defaults\n})\n\n\nexport const startSolvingAction = (points, delay, evaluatingDetailLevel) => ({\n  type: START_SOLVING,\n  points,\n  delay,\n  evaluatingDetailLevel\n})\n\nexport const stopSolvingAction = () => ({\n  type: STOP_SOLVING\n})\n\n\nexport const setAlgorithm = (algorithm, defaults={}) => dispatch => {\n  gtmEmit({\n    event: 'select-algorithm',\n    algorithm\n  })\n  dispatch(resetEvaluatingStateAction())\n  dispatch(setAlgorithmAction(algorithm, defaults))  \n}\n\nexport const setDelay = delay => dispatch => {\n  gtmEmit({\n    event: 'set-delay',\n    delay\n  })\n  return {\n    type: SET_DELAY,\n    delay\n  }\n}\n\nexport const setEvaluatingDetailLevel = level => ({\n  type: SET_EVALUATING_DETAIL_LEVEL,\n  level\n})\n\nexport const setShowBestPath = show => ({\n  type: SET_SHOW_BEST_PATH,\n  show\n})\n\nexport const resetSolverState = () => dispatch => {\n  gtmEmit({ event: 'reset-solver' })\n  dispatch(resetEvaluatingStateAction())\n  dispatch(resetBestPathStateAction())\n}\n\nexport const startSolving = (...args) => (dispatch, getState) => {\n  const { algorithm } = getState();\n  gtmEmit({\n    event: 'start-solving',\n    algorithm\n  })\n  dispatch(resetEvaluatingStateAction())\n  dispatch(startSolvingAction(...args))\n}\n\nexport const stopSolving = () => dispatch => {\n  gtmEmit({ event: 'stop-solving' })\n  dispatch(resetEvaluatingStateAction())\n  dispatch(stopSolvingAction())\n}\n\n\n\n//\n// SOLVER ACTIONS\n//\nexport const setEvaluatingPath = (path, cost) => ({\n  type: SET_EVALUATING_PATHS,\n  paths: [\n    path\n  ],\n  cost\n})\n\n\nexport const setEvaluatingPaths = (paths, cost) => ({\n  type: SET_EVALUATING_PATHS,\n  paths,\n  cost\n})\n\nexport const setBestPath = (path, cost) => ({\n  type: SET_BEST_PATH,\n  path,\n  cost\n})\n\n\n//\n// POINT CONTROLS\n//\n\nconst setDefaultMapAction = () => ({\n  type: SET_DEFAULT_MAP\n})\n\nconst setPointsAction = points => ({\n    type: SET_POINTS,\n    points\n})\n\nconst setPointCountAction = count => ({\n  type: SET_POINT_COUNT,\n  count\n})\n\nconst startDefiningPointsAction = () => ({\n  type: START_DEFINING_POINTS\n})\n\nconst stopDefiningPointsAction = () => ({\n  type: STOP_DEFINING_POINTS\n})\n\nexport const startDefiningPoints = () => dispatch => {\n  gtmEmit({\n    event: 'start-defining-points'\n  })\n  dispatch(resetSolverState())\n  dispatch(startDefiningPointsAction())\n}\n\nexport const addDefinedPoint = point => ({\n  type: ADD_DEFINED_POINT,\n  point\n})\n\nexport const stopDefiningPoints = () => (dispatch, getState) => {\n  const { pointCount } = getState()\n  gtmEmit({\n    event: 'stop-defining-points',\n    pointCount\n  })\n  dispatch(stopDefiningPointsAction());\n}\n\nexport const setPointCount = count => dispatch => {\n  gtmEmit({\n    event: 'set-point-count',\n    pointCount: count\n  })\n  dispatch(resetSolverState())\n  dispatch(setPointCountAction(count))\n}\n\nexport const randomizePoints = bounds => (dispatch, getState) => {\n  const { pointCount } = getState()\n  const { top, bottom, left, right } = bounds;\n  const points = Array.from({ length: pointCount }).map(\n    _ => [getRandomPoint(right, left), getRandomPoint(top, bottom) ]\n  )\n\n  gtmEmit({\n    event: 'randomize-points',\n    pointCount\n  })\n  dispatch(setPointsAction(points))\n}\n\nexport const setDefaultMap = (...args) => dispatch => {\n  gtmEmit({\n    event: 'set-default-map'\n  })\n  dispatch(resetSolverState())\n  dispatch(setDefaultMapAction())\n}\n\n\n\n\n\n","\n\nexport default ev => {\n  if (typeof window !== \"undefined\" && window.dataLayer) {\n    console.log(ev)\n    window.dataLayer.push(ev);\n  }\n}\n"],"sourceRoot":""}