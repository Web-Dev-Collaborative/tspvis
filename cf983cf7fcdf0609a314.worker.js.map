{"version":3,"sources":["webpack://lib/webpack/bootstrap","webpack://lib/./src/solvers/cost.js","webpack://lib/./src/solvers/heuristic/furthestInsertion.worker.js","webpack://lib/./src/solvers/makeSolver.js","webpack://lib/./src/store/actions.js","webpack://lib/./src/store/emitCustomEvent.js"],"names":["distance","pt1","pt2","lng1","lat1","lng2","lat2","radlat1","Math","PI","radlat2","theta","radtheta","dist","sin","cos","acos","pathCost","path","slice","map","point","idx","reduce","a","b","wrapSolver","solver","args","self","postMessage","actions","terminate","makeSolver","run","solverConfig","detailLevel","delay","fullSpeed","setBestPath","setEvaluatingPaths","getPaths","level","paths","cost","setEvaluatingPath","getPath","sleep","duration","Promise","resolve","setTimeout","onmessage","data","action","type","evaluatingDetailLevel","points","Error","SET_VIEWPORT_STATE","RESET_EVALUATING_STATE","RESET_BEST_PATH_STATE","SET_ALGORITHM","SET_DELAY","SET_EVALUATING_DETAIL_LEVEL","SET_SHOW_BEST_PATH","START_SOLVING","GO_FULL_SPEED","STOP_SOLVING","SET_BEST_PATH","SET_EVALUATING_PATHS","START_DEFINING_POINTS","ADD_DEFINED_POINT","STOP_DEFINING_POINTS","SET_POINT_COUNT","SET_POINTS","SET_DEFAULT_MAP","TOGGLE_SITE_INFO_OPEN","TOGGLE_ALG_INFO_OPEN","getRandomPoint","max","min","random","toggleSiteInfoOpen","dispatch","getState","siteInfoOpen","gtmEmit","event","toggleAlgInfoOpen","algorithm","algInfoOpen","setViewportState","viewport","resetEvaluatingStateAction","resetBestPathStateAction","setAlgorithmAction","defaults","startSolvingAction","goFullSpeedAction","stopSolvingAction","setAlgorithm","setDelayAction","setDelay","setEvaluatingDetailLevel","setShowBestPath","show","resetSolverState","startSolving","goFullSpeed","stopSolving","setDefaultMapAction","setPointsAction","setPointCountAction","count","startDefiningPointsAction","stopDefiningPointsAction","startDefiningPoints","addDefinedPoint","stopDefiningPoints","pointCount","setPointCount","randomizePoints","bounds","top","bottom","left","right","Array","from","length","_","setDefaultMap","ev","window","dataLayer","push","console","log"],"mappings":"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","file":"cf983cf7fcdf0609a314.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/solvers/heuristic/furthestInsertion.worker.js\");\n","\n\n// haversine great circle distance\nexport const distance = (pt1, pt2) => {\n  const [lng1, lat1] = pt1;\n  const [lng2, lat2] = pt2;\n  if ((lat1 === lat2) && (lng1 === lng2)) {\n\t\treturn 0;\n  }\n  \n  var radlat1 = Math.PI * lat1/180;\n  var radlat2 = Math.PI * lat2/180;\n\n  var theta = lng1-lng2;\n  var radtheta = Math.PI * theta/180;\n\n  var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n\n  if (dist > 1) {\n    dist = 1;\n  }\n  dist = Math.acos(dist);\n  dist = dist * 180/Math.PI;\n  return dist * 60 * 1.1515 * 1.609344;\n}\n\n\nexport const pathCost = path => {\n  return path.slice(0, -1)\n             .map((point, idx) => distance(point, path[idx+1]))\n             .reduce((a, b) => a+b, 0)\n}\n","/* eslint-disable no-restricted-globals */\nimport makeSolver from '../makeSolver';\nimport { pathCost, distance } from '../cost';\n\n\nconst furthestInsertion = async points => {\n  // from the starting point\n  const path = [points.shift()];\n\n  //\n  // INITIALIZATION - go to the nearest point first\n  //\n  points.sort((a, b) => (\n    distance(path[0], b) -\n    distance(path[0], a)\n    ));\n  path.push(points.pop());\n\n  self.setEvaluatingPaths(() => ({\n    paths: [{ path }],\n    cost: pathCost(path)\n  }))\n\n\n  while (points.length > 0) {\n    //\n    // SELECTION - furthest point from the path\n    //\n    let [selectedDistance, selectedIdx] = [0, null];\n    for (const [freePointIdx, freePoint] of points.entries()) {\n\n      // find the minimum distance to the path for freePoint\n      let [bestCostToPath, costToPathIdx] = [Infinity, null];\n      for (const pathPoint of path) {\n        const dist = distance(freePoint, pathPoint);\n        if (dist < bestCostToPath) {\n          [bestCostToPath, costToPathIdx] = [dist, freePointIdx]\n        } \n      }\n\n      // if this point is further from the path than the currently selected\n      if (bestCostToPath > selectedDistance) {\n        [selectedDistance, selectedIdx] = [bestCostToPath, costToPathIdx];\n      }\n    }    \n    \n    // get the next point to add\n    const [ nextPoint ] = points.splice(selectedIdx, 1);\n\n    //\n    // INSERTION - find the insertion spot that minimizes distance\n    //\n    let [bestCost, bestIdx] = [Infinity, null];\n    for (let i=1; i<path.length; i++) {\n      const insertionCost = pathCost([\n        path[i-1], nextPoint, path[i]\n      ])\n      if (insertionCost < bestCost) {\n        [bestCost, bestIdx] = [insertionCost, i];\n      }\n    }\n    path.splice(bestIdx, 0, nextPoint);\n\n\n    self.setEvaluatingPaths(() => ({\n      paths: [{ path }],\n      cost: pathCost(path)\n    }))\n\n    await self.sleep();\n  }\n\n  // return to start after visiting all other points\n  path.push(path[0]);\n  const cost = pathCost(path);\n\n  self.setEvaluatingPaths(() => ({\n    paths: [{ path }],\n    cost\n  }))\n  await self.sleep();\n\n  self.setBestPath(path, cost)\n\n}\n\nmakeSolver(furthestInsertion);\n","/* eslint-disable no-restricted-globals */\nimport * as actions from '../store/actions';\n\n\nconst wrapSolver = solver => async (...args) => {\n  await solver(...args);\n  self.postMessage(actions.stopSolvingAction());\n  self.terminate();\n}\n\n\nexport const makeSolver = solver => {\n  const run = wrapSolver(solver);\n\n  self.solverConfig = {\n    detailLevel: 0,\n    delay: 10,\n    fullSpeed: false\n  };\n\n\n  self.setBestPath = (...args) => {\n    self.postMessage(actions.setBestPath(...args))\n  }\n\n  self.setEvaluatingPaths = (getPaths, level=1) => {\n    if (self.solverConfig.detailLevel >= level) {\n      const { paths, cost } = getPaths();\n      self.postMessage(actions.setEvaluatingPaths(paths, cost));\n    }\n  }\n\n  self.setEvaluatingPath = (getPath, level=1) => {\n    if (self.solverConfig.detailLevel >= level) {\n      const { path, cost } = getPath();\n      self.postMessage(actions.setEvaluatingPath(path, cost)); \n    }\n  }\n\n  self.sleep = () => {\n    const duration = self.solverConfig.fullSpeed ?\n                        0 :\n                        self.solverConfig.delay || 10; \n    return new Promise(resolve => {\n      setTimeout(resolve, duration)\n    })\n  }\n\n  self.onmessage = async ({ data: action }) => {\n    switch (action.type) {\n      case actions.START_SOLVING:\n\n        self.solverConfig.delay = action.delay;\n        self.solverConfig.detailLevel = action.evaluatingDetailLevel;\n        self.solverConfig.fullSpeed = action.fullSpeed;\n        run(action.points)\n        break;\n      \n      case actions.SET_DELAY:\n        self.solverConfig.delay = action.delay;\n        break;\n  \n      case actions.SET_EVALUATING_DETAIL_LEVEL:\n        self.solverConfig.detailLevel = action.level\n        break;\n  \n      case actions.GO_FULL_SPEED:\n        self.solverConfig.fullSpeed = true;\n        break;\n\n      default:\n        throw new Error(`invalid action sent to solver ${action.type}`);\n    }\n  };\n};\n\n\nexport default makeSolver;\n","import gtmEmit from './emitCustomEvent';\nexport const SET_VIEWPORT_STATE = 'SET_VIEWPORT_STATE';\n\nexport const RESET_EVALUATING_STATE = 'RESET_EVALUATING_STATE';\nexport const RESET_BEST_PATH_STATE = 'RESET_BEST_PATH_STATE';\n\nexport const SET_ALGORITHM = 'SET_ALGORITHM';\nexport const SET_DELAY = 'SET_DELAY';\nexport const SET_EVALUATING_DETAIL_LEVEL = 'SET_EVALUATING_DETAIL_LEVEL';\nexport const SET_SHOW_BEST_PATH = 'SET_SHOW_BEST_PATH';\nexport const START_SOLVING = 'START_SOLVING';\nexport const GO_FULL_SPEED = 'GO_FULL_SPEED';\nexport const STOP_SOLVING = 'STOP_SOLVING';\n\nexport const SET_BEST_PATH = 'SET_BEST_PATH';\nexport const SET_EVALUATING_PATHS = 'SET_EVALUATING_PATHS';\n\nexport const START_DEFINING_POINTS = 'START_DEFINING_POINTS';\nexport const ADD_DEFINED_POINT = 'ADD_DEFINED_POINT';\nexport const STOP_DEFINING_POINTS = 'STOP_DEFINING_POINTS';\nexport const SET_POINT_COUNT = 'SET_POINT_COUNT';\nexport const SET_POINTS = 'SET_POINTS';\nexport const SET_DEFAULT_MAP = 'SET_DEFAULT_MAP';\n\nexport const TOGGLE_SITE_INFO_OPEN = 'TOGGLE_SITE_INFO_OPEN';\nexport const TOGGLE_ALG_INFO_OPEN = 'TOGGLE_ALG_INFO_OPEN';\n\n\nconst getRandomPoint = (max, min) => (\n  Math.random() * (max - min) + min\n)\n\n\n//\n// BASIC UI\n//\nexport const toggleSiteInfoOpen = () => (dispatch, getState) => {\n  const { siteInfoOpen } = getState();\n  if (!siteInfoOpen) {\n    gtmEmit({ event: 'open-site-info' })\n  }\n  dispatch({\n    type: TOGGLE_SITE_INFO_OPEN\n  })\n}\n\nexport const toggleAlgInfoOpen = () => (dispatch, getState) => {\n  const { algorithm, algInfoOpen } = getState();\n  if (!algInfoOpen) {\n    gtmEmit({\n      event: 'open-algorithm-info',\n      algorithm\n    })\n  }\n  dispatch({\n    type: TOGGLE_ALG_INFO_OPEN\n  })\n}\n\n\n//\n// MAP INTERACTION\n//\nexport const setViewportState = viewport => ({\n  type: SET_VIEWPORT_STATE,\n  viewport\n})\n\n\n//\n// SOLVER CONTROLS\n//\nconst resetEvaluatingStateAction = () => ({\n  type: RESET_EVALUATING_STATE\n})\n\nconst resetBestPathStateAction = () => ({\n  type: RESET_BEST_PATH_STATE\n})\n\nconst setAlgorithmAction = (algorithm, defaults) => ({\n  type: SET_ALGORITHM,\n  algorithm,\n  defaults\n})\n\nexport const startSolvingAction = (points, delay, evaluatingDetailLevel) => ({\n  type: START_SOLVING,\n  points,\n  delay,\n  evaluatingDetailLevel,\n  fullSpeed: false\n})\n\nexport const goFullSpeedAction = () => ({\n  type: GO_FULL_SPEED\n})\n\nexport const stopSolvingAction = () => ({\n  type: STOP_SOLVING\n})\n\nexport const setAlgorithm = (algorithm, defaults={}) => dispatch => {\n  gtmEmit({\n    event: 'select-algorithm',\n    algorithm\n  })\n  dispatch(resetEvaluatingStateAction())\n  dispatch(setAlgorithmAction(algorithm, defaults))  \n}\n\nexport const setDelayAction = delay => ({\n  type: SET_DELAY,\n  delay\n})\n\nexport const setDelay = delay => dispatch => {\n  gtmEmit({\n    event: 'set-delay',\n    delay\n  })\n  dispatch(setDelayAction(delay));\n}\n\nexport const setEvaluatingDetailLevel = level => ({\n  type: SET_EVALUATING_DETAIL_LEVEL,\n  level\n})\n\nexport const setShowBestPath = show => ({\n  type: SET_SHOW_BEST_PATH,\n  show\n})\n\nexport const resetSolverState = () => dispatch => {\n  gtmEmit({ event: 'reset-solver' })\n  dispatch(resetEvaluatingStateAction())\n  dispatch(resetBestPathStateAction())\n}\n\nexport const startSolving = (...args) => (dispatch, getState) => {\n  const { algorithm } = getState();\n  gtmEmit({\n    event: 'start-solving',\n    algorithm\n  })\n  dispatch(resetEvaluatingStateAction())\n  dispatch(startSolvingAction(...args))\n}\n\nexport const goFullSpeed = () => (dispatch, getState) => {\n  gtmEmit({\n    event: 'go-full-speed'\n  })\n  dispatch(goFullSpeedAction());\n}\n\nexport const stopSolving = () => dispatch => {\n  gtmEmit({ event: 'stop-solving' })\n  dispatch(resetEvaluatingStateAction())\n  dispatch(stopSolvingAction())\n}\n\n\n\n//\n// SOLVER ACTIONS\n//\nexport const setEvaluatingPath = (path, cost) => ({\n  type: SET_EVALUATING_PATHS,\n  paths: [\n    path\n  ],\n  cost\n})\n\n\nexport const setEvaluatingPaths = (paths, cost) => ({\n  type: SET_EVALUATING_PATHS,\n  paths,\n  cost\n})\n\nexport const setBestPath = (path, cost) => ({\n  type: SET_BEST_PATH,\n  path,\n  cost\n})\n\n\n//\n// POINT CONTROLS\n//\n\nconst setDefaultMapAction = () => ({\n  type: SET_DEFAULT_MAP\n})\n\nconst setPointsAction = points => ({\n    type: SET_POINTS,\n    points\n})\n\nconst setPointCountAction = count => ({\n  type: SET_POINT_COUNT,\n  count\n})\n\nconst startDefiningPointsAction = () => ({\n  type: START_DEFINING_POINTS\n})\n\nconst stopDefiningPointsAction = () => ({\n  type: STOP_DEFINING_POINTS\n})\n\nexport const startDefiningPoints = () => dispatch => {\n  gtmEmit({\n    event: 'start-defining-points'\n  })\n  dispatch(resetSolverState())\n  dispatch(startDefiningPointsAction())\n}\n\nexport const addDefinedPoint = point => ({\n  type: ADD_DEFINED_POINT,\n  point\n})\n\nexport const stopDefiningPoints = () => (dispatch, getState) => {\n  const { pointCount } = getState()\n  gtmEmit({\n    event: 'stop-defining-points',\n    pointCount\n  })\n  dispatch(stopDefiningPointsAction());\n}\n\nexport const setPointCount = count => dispatch => {\n  gtmEmit({\n    event: 'set-point-count',\n    pointCount: count\n  })\n  dispatch(resetSolverState())\n  dispatch(setPointCountAction(count))\n}\n\nexport const randomizePoints = bounds => (dispatch, getState) => {\n  const { pointCount } = getState()\n  const { top, bottom, left, right } = bounds;\n  const points = Array.from({ length: pointCount }).map(\n    _ => [getRandomPoint(right, left), getRandomPoint(top, bottom) ]\n  )\n\n  gtmEmit({\n    event: 'randomize-points',\n    pointCount\n  })\n  dispatch(setPointsAction(points))\n}\n\nexport const setDefaultMap = (...args) => dispatch => {\n  gtmEmit({\n    event: 'set-default-map'\n  })\n  dispatch(resetSolverState())\n  dispatch(setDefaultMapAction())\n}\n\n\n\n\n\n","\n\nexport default ev => {\n  if (typeof window !== \"undefined\" && window.dataLayer) {\n    window.dataLayer.push(ev);\n  } else {\n    console.log(ev)\n  }\n}\n"],"sourceRoot":""}